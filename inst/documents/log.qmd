---
title: "`r params$title`"
date: "`r Sys.time()`"
date-format: "YYYY-MM-DDTHH:mm:ss zzz"
params:
  title: 'dev'
  script_md: 'dev'
  strace: FALSE
  strace_path: ''
  strace_discards: NULL
  renv: TRUE
format:
  html:
    page-layout: full
    embed-resources: true
    toc: true
    toc-depth: 2
    toc-expand: true
    smooth-scroll: true
---

# Summary

```{r, echo=FALSE}
if (is.character(params$renv) && params$renv == "yes" | is.logical(params$renv) && params$renv){
  whirl:::renv_status()
}
```

```{r, echo=FALSE}
use_strace <- (is.character(params$strace) && params$strace == "yes" | is.logical(params$strace) && params$strace)

if (use_strace){
  strace_info <- whirl:::readstrace_info(
    path = params$strace_path, 
    strace_discards = params$strace_discards)
}

```

```{r, echo=FALSE, results='asis', eval=use_strace}
cat("## Input", "\n")
```

```{r, echo=FALSE, eval=use_strace}
strace_info$input
```

```{r, echo=FALSE, results='asis', eval=use_strace}
cat("## Output", "\n")
```

```{r, echo=FALSE, eval=use_strace}
strace_info$output
```

# Script

```{r, child = params$script_md}
```
